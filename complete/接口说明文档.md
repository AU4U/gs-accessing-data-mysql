# 接口说明文档

本应用采用 ***REST API*** 风格设计<br>
资源通常通过 URL 来表示，<br>
而操作则通过 HTTP 方法（如 GET、POST、PUT、DELETE）来表示<br>
例如:<br>
+ GET /users 可以用来获取用户列表，
+ GET /users/{id} 可以用来获取用户详情，
+ POST /users 可以用来创建新用户，
+ PUT /users/{id} 可以用来更新用户信息，
+ DELETE /users/{id} 可以用来删除用户。

## 设备录入流程
### 使用get方法调用 ***/equipmentType*** 接口获取设备字典列表
```json
[
    {
        "id": 1,
        "value": "设备类型1"
    },
    {
        "id": 2,
        "value": "设备类型2"
    }
]
```
从接口中获取设备类型id作为设备录入接口的传入参数

### 使用get方法调用 ***/connectPintType*** 接口，获取连接点类型字典列表
```json
[
    {
        "id": 1,
        "value": "连接点类型1"
    },
    {
        "id": 2,
        "value": "连接点类型2"
    }
]
```
从接口中获取连接点类型id，作为设备录入接口的传入参数


### 使用get方法调用 ***/weldingTongType*** 接口，获取焊钳类型字典列表
```json
[
    {
        "id": 1,
        "value": "焊钳类型1"
    },
    {
        "id": 2,
        "value": "焊钳类型2"
    }
]
```
从接口中获取焊接钳类型id，作为设备录入接口的传入参数

### 使用get方法调用 ***/brand*** 接口，获取品牌类型字典列表
```json
[
    {
        "id": 1,
        "value": "品牌类型1"
    },
    {
        "id": 2,
        "value": "品牌类型2"
    }
]
```
从接口中获取品牌类型id，作为设备录入接口的传入参数

### 使用get方法调用 ***/equipmentModel*** 接口，获取设备型号字典列表
```json
[
    {
        "id": 1,
        "value": "设备型号1"
    },
    {
        "id": 2,
        "value": "设备型号2"
    }
]
```
从接口中获取设备型号id，作为设备录入接口的传入参数

### 使用post方法调用 ***/file*** 接口，选择模型文件进行提交

curl请求示例：
```shell
curl --location --request POST 'localhost:8080/file' \
--form 'file=@"/Users/user/Desktop/testfile/a.txt"'
```
响应示例：
```json
{
  "fileInfo": {
    "orgName": "all_match_FILL0_wght400_GRAD0_opsz24.png",
    "fileDownloadUri": "http://localhost:8080/files/a01972e0-8b14-4bfc-8abd-d5e42ff5afb0.png",
    "extension": ".png",
    "timestamp": 1705937987527
  }
}
```
从响应中获取到文件的url(***fileInfo.fileDownloadUri***)，作为作为设备录入接口的传入参数

### 使用post方法调用接口 ***/equipments***提交设备录入信息

将以上获得的：设备类型id,连接点类型id，品牌类型id,设备型号id； 模型文件uri作为对应的参数。

设备图片现在是可选参数。

其他参数前端录入（是否停产，上市日期，下臂高度D，开口大小C，喉宽B，喉深A）。

请求示例
```shell
curl --location --request POST 'localhost:8080/equipments' \
--header 'Content-Type: application/json' \
--data-raw '{
    "equipmentType": {
        "id": 1
    },
    "connectPintType": {
        "id": 1
    },
    "weldingTongType": {
        "id": 1
    },
    "brand": {
        "id": 1
    },
    "equipmentModel": {
        "id": 1
    },
    "img": {
        "url": http://dummyimage.com/400x400"
    },
    "modelFile": {
        "url": http://dummyimage.com/400x400"
    },
    "a": 83,
    "b": 31,
    "c": 55,
    "d": 80,
    "e": "xyz",
    "listingDate": "1989-01-19",
    "stopProduction": true
}'
```
### 
